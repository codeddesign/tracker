!function(){"use strict";function e(e,t){t=t||function(){},c.onreadystatechange=function(){4==c.readyState&&200==c.status&&t(c.responseText)},c.open("GET",e),c.send()}function t(e,t){void 0===t&&(t={});var n=new Image;t.u=a.read(),n.src=i.app_path+e+s(t)}function n(){var e={referer:escape(document.referrer)};t("visit",e)}var i={app_path:"http://tracker.dev/track/",cookie_years:5,cookie_name:"stattrack"},r={connection:null,db:{name:function(){return i.cookie_name+"_db"},size:2097152,table_name:"vuer",table_field:"vid"},hasSupport:function(){return"undefined"!=typeof openDatabase&&(this.connection=openDatabase(this.db.name(),"1.0","",this.db.size),this.connection.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS `"+this.db.table_name+"` ("+this.db.table_field+")")}.bind(this)),!0)},create:function(e){return!!this.hasSupport()&&void this.read(function(t){return!t&&void this.connection.transaction(function(t){t.executeSql("INSERT INTO `"+this.db.table_name+"` ("+this.db.table_field+') VALUES ("'+e+'")')}.bind(this))}.bind(this))},read:function(e){return!!this.hasSupport()&&void this.connection.transaction(function(t){t.executeSql("SELECT `"+this.db.table_field+"` from `"+this.db.table_name+"`",[],function(t,n){return n.rows.length?(e(n.rows[0][this.db.table_field]),!1):void e(!1)}.bind(this))}.bind(this))}},o={hasSupport:function(){return"undefined"!=typeof Storage},create:function(e){return!!this.hasSupport()&&void localStorage.setItem(i.cookie_name,e)},read:function(){if(!this.hasSupport())return!1;var e=localStorage.getItem(i.cookie_name);return!!e&&e}},a={create:function(e){var t=new Date;t.setTime(t.getTime()+24*i.cookie_years*60*60*1e3*365),document.cookie=i.cookie_name+"="+e+"; expires="+t.toGMTString()+"; path=/"},read:function(){var e,t,n=i.cookie_name+"=",r=document.cookie.split(";");for(t=0;t<r.length;t++){for(e=r[t];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(n))return e.substring(n.length,e.length)}return!1}},c=function(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];e.forEach(function(e){try{return new window.ActiveXObject(e)}catch(t){}throw new Error("No support for XMLHttpRequest")})}),new XMLHttpRequest}(),u=new Promise(function(t,n){r.read(function(n){var c=a.read(),u=o.read(),s=n||u||c,d=i.app_path+"unique";return s?(n||(u?(r.create(u),a.create(u),n=u):c&&(r.create(c),o.create(c),n=c)),u&&u==n||o.create(n),a.create(n),void t(n)):void e(d,function(e){r.create(e),o.create(e),a.create(e),t(e)})})}),s=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push(n+"="+e[n])}),t.length?"?"+t.join("&"):""};u.then(function(e){n()})}();