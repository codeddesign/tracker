!function(){"use strict";function t(t,e){e=e||function(){},r.onreadystatechange=function(){4==r.readyState&&200==r.status&&e(r.responseText)},r.open("GET",t),r.send()}var e={app_path:"http://tracker.dev",cookie_days:36500,cookie_name:"cookietrap"},n={connection:null,db:{name:function(){return e.cookie_name+"_db"},size:2097152,table_name:"vuer",table_field:"vid"},hasSupport:function(){return"undefined"!=typeof openDatabase&&(this.connection=openDatabase(this.db.name(),"1.0","",this.db.size),this.connection.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS `"+this.db.table_name+"` ("+this.db.table_field+")")}.bind(this)),!0)},create:function(t){return!!this.hasSupport()&&void this.read(function(e){return!e&&void this.connection.transaction(function(e){e.executeSql("INSERT INTO `"+this.db.table_name+"` ("+this.db.table_field+') VALUES ("'+t+'")')}.bind(this))}.bind(this))},read:function(t){return!!this.hasSupport()&&void this.connection.transaction(function(e){e.executeSql("SELECT `"+this.db.table_field+"` from `"+this.db.table_name+"`",[],function(e,n){return n.rows.length?(t(n.rows[0][this.db.table_field]),!1):void t(!1)}.bind(this))}.bind(this))}},i={hasSupport:function(){return"undefined"!=typeof Storage},create:function(t){return!!this.hasSupport()&&void localStorage.setItem(e.cookie_name,t)},read:function(){if(!this.hasSupport())return!1;var t=localStorage.getItem(e.cookie_name);return!!t&&t}},o={create:function(t){var n=new Date;n.setTime(n.getTime()+24*e.cookie_days*60*60*1e3),document.cookie=e.cookie_name+"="+t+"; expires="+n.toGMTString()+"; path=/"},read:function(){var t,n,i=e.cookie_name+"=",o=document.cookie.split(";");for(n=0;n<o.length;n++){for(t=o[n];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(i))return t.substring(i.length,t.length)}return!1}},r=function(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];t.forEach(function(t){try{return new window.ActiveXObject(t)}catch(e){}throw new Error("No support for XMLHttpRequest")})}),new XMLHttpRequest}();!function(){return n.read(function(r){var a=o.read(),c=i.read(),u=r||c||a,s=e.app_path.trim("/")+"/unique";return u?(r||(c?(n.create(c),o.create(c),r=c):a&&(n.create(a),i.create(a),r=a)),c&&c==r||i.create(r),void(a&&a==r||o.create(r))):(t(s,function(t){n.create(t),i.create(t),o.create(t)}),!1)}),{read:function(){return o.read()}}}()}();